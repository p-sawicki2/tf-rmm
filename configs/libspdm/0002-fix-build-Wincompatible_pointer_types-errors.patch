From c46152738b4cfa7c92ff87df82e89cbc9a21f271 Mon Sep 17 00:00:00 2001
From: Arunachalam Ganapathy <arunachalam.ganapathy@arm.com>
Date: Fri, 31 May 2024 15:25:36 +0100
Subject: [PATCH] fix(build): Wincompatible_pointer_types errors

Fix -Wincompatible-pointer-types in cryptlib_mbedtls library

Signed-off-by: Arunachalam Ganapathy <arunachalam.ganapathy@arm.com>
---
 os_stub/cryptlib_mbedtls/pk/x509.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/os_stub/cryptlib_mbedtls/pk/x509.c b/os_stub/cryptlib_mbedtls/pk/x509.c
index d8fedb005c..c20aedee9c 100644
--- a/os_stub/cryptlib_mbedtls/pk/x509.c
+++ b/os_stub/cryptlib_mbedtls/pk/x509.c
@@ -709,7 +709,7 @@ bool libspdm_x509_verify_cert_chain(const uint8_t *root_cert, size_t root_cert_l
     do {
         tmp_ptr = current_cert;
         ret = mbedtls_asn1_get_tag(
-            &tmp_ptr, cert_chain + cert_chain_length, &asn1_len,
+            (unsigned char **)&tmp_ptr, cert_chain + cert_chain_length, &asn1_len,
             MBEDTLS_ASN1_CONSTRUCTED | MBEDTLS_ASN1_SEQUENCE);
         if (ret != 0) {
             break;
@@ -792,7 +792,7 @@ bool libspdm_x509_get_cert_from_cert_chain(const uint8_t *cert_chain,
 
         tmp_ptr = current_cert;
         ret = mbedtls_asn1_get_tag(
-            &tmp_ptr, cert_chain + cert_chain_length, &asn1_len,
+            (unsigned char **)&tmp_ptr, cert_chain + cert_chain_length, &asn1_len,
             MBEDTLS_ASN1_CONSTRUCTED | MBEDTLS_ASN1_SEQUENCE);
         if (ret != 0) {
             break;
-- 
2.39.2

