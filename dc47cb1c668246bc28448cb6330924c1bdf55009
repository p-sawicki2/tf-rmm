{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8bf90eaf_6abe1595",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "Need to add unit tests for RSI logger as part of this patch.",
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "41ef6b4d_a3e6efb2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2023-05-02T15:08:34Z",
      "side": 1,
      "message": "Won\u0027t the RSI logger be called as part of RSI calls? Please explain what this unit test might do (checking the number of printed parameters and output values?).",
      "parentUuid": "8bf90eaf_6abe1595",
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd749a40_b99bf6ec",
        "filename": "runtime/core/exit.c",
        "patchSetId": 8
      },
      "lineNbr": 357,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "See my comments on this macro.",
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6db6d016_e482732a",
        "filename": "runtime/core/handler.c",
        "patchSetId": 8
      },
      "lineNbr": 62,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "a comment on the side will be useful.\n\nenum rmi_type {\n\trmi_type(0, 0), /* 0 input, 0 output */\n\trmi_type(1, 0), /* 1 input, 0 output */ \n\trmi_type(2, 0), /* ... */\n\trmi_type(3, 0),\n\trmi_type(4, 0),\n\trmi_type(5, 0),\n\trmi_type(1, 1),\n\trmi_type(3, 4)  /* 3 inputs, 4 outputs */\n};",
      "range": {
        "startLine": 62,
        "startChar": 15,
        "endLine": 62,
        "endChar": 16
      },
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4b9024cc_e054963e",
        "filename": "runtime/core/handler.c",
        "patchSetId": 8
      },
      "lineNbr": 62,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2023-05-02T15:08:34Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6db6d016_e482732a",
      "range": {
        "startLine": 62,
        "startChar": 15,
        "endLine": 62,
        "endChar": 16
      },
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d20c081e_2ada67bc",
        "filename": "runtime/core/handler.c",
        "patchSetId": 8
      },
      "lineNbr": 168,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "add : assert(num \u003c 5);",
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41d17943_5a527a61",
        "filename": "runtime/core/handler.c",
        "patchSetId": 8
      },
      "lineNbr": 170,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "Should this be aligned with %8lx ?",
      "range": {
        "startLine": 170,
        "startChar": 11,
        "endLine": 170,
        "endChar": 13
      },
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "918f4958_f6438dc5",
        "filename": "runtime/core/handler.c",
        "patchSetId": 8
      },
      "lineNbr": 170,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2023-05-02T15:08:34Z",
      "side": 1,
      "message": "Please see my answer to Suzuki for the same question:\nhttps://gerrit.oss.arm.com/c/trusted-firmware/tf-rmm/+/259093/6/runtime/rsi/logger.c#105\n\nThe idea was to reduce the length of logging strings.\nRMM now uses DRAM bank 2, which starts from 0x880000000, which breaks %8lx alignment. Besides that RSI commands will break any alignment:\nSMC_RSI_MEASUREMENT_EXTEND    1 20 1111111111111111 1111111111111111 1111111111111111 1111111111111111 0 0 0 0 \u003e RSI_SUCCESS\nSMC_RSI_ATTEST_TOKEN_INIT     80280000 abababababababab abababababababab abababababababab abababababababab abababababababab abababababababab abababababababab abababababababab \u003e RSI_SUCCESS",
      "parentUuid": "41d17943_5a527a61",
      "range": {
        "startLine": 170,
        "startChar": 11,
        "endLine": 170,
        "endChar": 13
      },
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ffcaf5df_83a6f123",
        "filename": "runtime/core/handler.c",
        "patchSetId": 8
      },
      "lineNbr": 189,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "%8lx ?",
      "range": {
        "startLine": 189,
        "startChar": 12,
        "endLine": 189,
        "endChar": 14
      },
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "680fe049_4cd70d4b",
        "filename": "runtime/include/rsi-logger.h",
        "patchSetId": 8
      },
      "lineNbr": 20,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "#if (RSI_LOG_LEVEL \u003e LOG_LEVEL_NONE) \u0026\u0026 (RSI_LOG_LEVEL \u003c\u003d LOG_LEVEL)",
      "range": {
        "startLine": 20,
        "startChar": 5,
        "endLine": 20,
        "endChar": 37
      },
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee093ac7_65213e00",
        "filename": "runtime/include/rsi-logger.h",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "This can be defined to make the caller shorter.\n\n/* Takes an array of regs of size of atleast 11 and sets up the args for RSI log */\n\n# define RSI_LOG_SET(regs)     \\\n        unsigned long rsi_log_args[] \u003d {                        \\\n         regs[1], regs[2], regs[3], regs[4], regs[5], regs[6], regs[7], regs[8], regs[9], regs[10]               \\\n        }\n\n\nThe caller can be RSI_LOG_SET(rec-\u003eregs);",
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8debb07b_2a09ee3d",
        "filename": "runtime/rsi/logger.c",
        "patchSetId": 8
      },
      "lineNbr": 110,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "%8lx ?",
      "range": {
        "startLine": 110,
        "startChar": 30,
        "endLine": 110,
        "endChar": 32
      },
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "193b1383_b308241d",
        "filename": "runtime/rsi/logger.c",
        "patchSetId": 8
      },
      "lineNbr": 159,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-05-02T15:00:19Z",
      "side": 1,
      "message": "add print for RSI_ABI_VERSION.",
      "revId": "dc47cb1c668246bc28448cb6330924c1bdf55009",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}