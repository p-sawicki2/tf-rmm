{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7ccfe0fc_88c3f21e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T04:05:54Z",
      "side": 1,
      "message": "this may not work as the attributes described are different between the 2 formats when NS pages are mapped to S2 (NS_ATTR_MASK).\n\nWe would need to use the LPA2 in S2 depending on whether Host has enabled it or not.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 5
      },
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b2c4aff2_c8d68234",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2024-02-19T19:07:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ccfe0fc_88c3f21e",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 5
      },
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ebcf0bd2_cf66c2aa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2024-02-19T19:07:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ccfe0fc_88c3f21e",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 5
      },
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fcd415e2_b2c25719",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-10-09T14:09:11Z",
      "side": 1,
      "message": "Verified through https://jenkins.openci.aws.arm.com/job/rmm-gerrit-tforg-l2/341/",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f19e4bd8_04a83a5c",
        "filename": "lib/arch/include/arch.h",
        "patchSetId": 5
      },
      "lineNbr": 628,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T04:05:54Z",
      "side": 1,
      "message": "For T0SZ, Arm ARM says this :\n\nFor the 4KB translation granule, if FEAT_LPA2 is implemented and this field is less than 16, the\ntranslation table walk begins with a level -1 initial lookup.\n\n\nThis means some of the validation we perform when the tables are created will need to change (especially when Contiguous root tables are specified).",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05715083_1e25a175",
        "filename": "lib/arch/include/arch.h",
        "patchSetId": 5
      },
      "lineNbr": 628,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2024-02-02T17:14:49Z",
      "side": 1,
      "message": "I need to look into that because it has been a relatively long time and I don\u0027t remember the details now but, T0SZ are calculated at realm creation based on the IPA bits so it is not part of the validation. What we do validate is the initial level and the number of root tables (both realm parameters) so they are not incongruent (for instance, \u003e 1 root table means that the initial level can never be -1 with FEAT_LPA2 or 0 without it). As for T0SZ, it informs of the size of the IPA space, so it still can be \u003c 16 whilst the initial level is 0 as long as we are using concatenated tables. \n\nAgain, it has been a relatively long time, so I will review this whilst I rework this patch.",
      "parentUuid": "f19e4bd8_04a83a5c",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8123060b_090b5724",
        "filename": "lib/arch/include/arch.h",
        "patchSetId": 5
      },
      "lineNbr": 628,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2024-02-19T19:09:04Z",
      "side": 1,
      "message": "Verified that this is taken care of on https://review.trustedfirmware.org/c/TF-RMM/tf-rmm/+/23437/23/runtime/rmi/realm.c#79",
      "parentUuid": "05715083_1e25a175",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94c3e8a6_9e2853a0",
        "filename": "lib/arch/include/arch.h",
        "patchSetId": 5
      },
      "lineNbr": 640,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T04:05:54Z",
      "side": 1,
      "message": "define LM1 for SL2 as well.",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "98de61b5_24ecf4c2",
        "filename": "lib/arch/include/arch.h",
        "patchSetId": 5
      },
      "lineNbr": 640,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-10-13T14:09:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "94c3e8a6_9e2853a0",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7715cec_1b80ddfe",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 71,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T08:46:26Z",
      "side": 1,
      "message": "nit: keep this along with LPA2 ones.",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 71,
        "endChar": 24
      },
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "19c0ee2c_ec02efb1",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 71,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-10-13T14:09:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a7715cec_1b80ddfe",
      "range": {
        "startLine": 70,
        "startChar": 0,
        "endLine": 71,
        "endChar": 24
      },
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cbdd738d_2d622ef7",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T08:46:26Z",
      "side": 1,
      "message": "I wonder we can do some macro magic to pick the right variant with or without LPA2.\n\n#define S2TTE_ATTRS_LPA2   ...\n#define S2TTE_ATTRS_NORMAL ...\n\n#define S2TTE_ATTRS(x)     S2TTE_ATTRS_##(x)\n\n\nAnd then prameterize all the other macros which use this, so you need only one version of the macro, ...something to think about.",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1437d03_47fca878",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2024-02-23T12:03:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cbdd738d_2d622ef7",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d1bdde8_4b6f717c",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 91,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T08:46:26Z",
      "side": 1,
      "message": "Suggest: _ENTRY_ can be removed as TTE itself has \"entry\" in it.",
      "range": {
        "startLine": 91,
        "startChar": 14,
        "endLine": 91,
        "endChar": 19
      },
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "50065a84_b59d1241",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 91,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-10-13T14:09:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7d1bdde8_4b6f717c",
      "range": {
        "startLine": 91,
        "startChar": 14,
        "endLine": 91,
        "endChar": 19
      },
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "860d2ce8_76b2ceec",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 350,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T08:46:26Z",
      "side": 1,
      "message": "somehow this will need to be in RD.\n\nAnother alternative:\ninstead of function pointer, these can be conditional macros which invokes one or the other based on an input arg (LPA2 or non LPA2).\n\nWill need further thoughts which is the better way.",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae65fe80_32677647",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 350,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-10-13T14:09:30Z",
      "side": 1,
      "message": "Will rework this as per our discussion",
      "parentUuid": "860d2ce8_76b2ceec",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9124b27_dd0cb0d8",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 350,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2024-02-23T12:03:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ae65fe80_32677647",
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57292a7f_a36b304f",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 382,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T08:46:26Z",
      "side": 1,
      "message": "I read that for LPA2 , TLBI range needs the argument to be aligned to 16 K, Need to check whether the single page TLBI has a similar need.",
      "range": {
        "startLine": 382,
        "startChar": 1,
        "endLine": 382,
        "endChar": 16
      },
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dc4b3f85_f5c6519d",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 5
      },
      "lineNbr": 382,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2024-02-23T12:03:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57292a7f_a36b304f",
      "range": {
        "startLine": 382,
        "startChar": 1,
        "endLine": 382,
        "endChar": 16
      },
      "revId": "ab429291afe3a79530b00e71f4d088ff3aef73d3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}