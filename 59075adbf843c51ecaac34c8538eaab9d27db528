{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3f8f25bf_c9688536",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-03-13T14:11:01Z",
      "side": 1,
      "message": "Some rewords.",
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3bcc7e89_acf5ed10",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 278,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-03-13T14:11:01Z",
      "side": 1,
      "message": "\"...or the address is not mapped and not a transient mapping, return NULL.\"",
      "range": {
        "startLine": 278,
        "startChar": 13,
        "endLine": 278,
        "endChar": 24
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7450ce30_a24251a8",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 278,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-03-15T12:38:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3bcc7e89_acf5ed10",
      "range": {
        "startLine": 278,
        "startChar": 13,
        "endLine": 278,
        "endChar": 24
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "caf02bb8_75fd71e7",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 318,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-03-13T14:11:01Z",
      "side": 1,
      "message": "this is not needed I think, the lower check is sufficient and not having this here is better for efficiency.",
      "range": {
        "startLine": 317,
        "startChar": 32,
        "endLine": 318,
        "endChar": 36
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e046ec98_7e3f119b",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 318,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-03-15T12:38:08Z",
      "side": 1,
      "message": "Yes, double checked this. This check wasn\u0027t needed after the one in line 327.",
      "parentUuid": "caf02bb8_75fd71e7",
      "range": {
        "startLine": 317,
        "startChar": 32,
        "endLine": 318,
        "endChar": 36
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4461be98_8673c87b",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 318,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-03-15T19:07:09Z",
      "side": 1,
      "message": "Actually, removing this check caused the unittests to fail, as the condition will only meet if the descriptor is not a TABLE_DESC, which is always false for the XLAT_TABLE_LEVEL_MAX level.\n\nAfter revisiting this again, I realized that the whole condition can be removed. Unittests pass without it.\n\nPending to push.",
      "parentUuid": "e046ec98_7e3f119b",
      "range": {
        "startLine": 317,
        "startChar": 32,
        "endLine": 318,
        "endChar": 36
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee3ca639_75814285",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 318,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-03-16T11:40:38Z",
      "side": 1,
      "message": "Thanks for checkin this, after seeing your answer I think this check you have done was good. The latest rework may miss holes in the mapping. Perhaps the unit test is not having a case to test this, but we can hand craft one I think . Let me check this.",
      "parentUuid": "4461be98_8673c87b",
      "range": {
        "startLine": 317,
        "startChar": 32,
        "endLine": 318,
        "endChar": 36
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec1d9c3a_f6277019",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 318,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-03-16T11:59:28Z",
      "side": 1,
      "message": "Yes, I was considering that as well. if the selected entry is not a BLOCK_DESC, or a TRANSIENT_DESC or a PAGE_DESC at the last level, then it has to be a either a TABLE_DESC or an invalid one, in any case the loop will iterate to the next level. If that was the last level is reached and the entry was invalid it would mean the address wasn\u0027t mapped.\n\nI see the point that if we have an invalid entry and we iterate again in the loop, we might have a memory exception (probably not cached by the unittest). What we can do to harden this case is to add an `else` in line 329, so if the entry is invalid, return NULL and stop.\n\nI was also considering removing the check on line 326 (if the entry is a PAGE_DESC, it must be at the last level. There cannot be pages at any other level)",
      "parentUuid": "ee3ca639_75814285",
      "range": {
        "startLine": 317,
        "startChar": 32,
        "endLine": 318,
        "endChar": 36
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82d1fa63_be82f0da",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 318,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-03-16T12:52:43Z",
      "side": 1,
      "message": "Hmm, I think your check \n\n\nif ((desc_type !\u003d TABLE_DESC) || (level \u003d\u003d XLAT_TABLE_LEVEL_MAX)) {\n\nwill do the trick. I couldn\u0027t find why this is not enough.",
      "parentUuid": "ec1d9c3a_f6277019",
      "range": {
        "startLine": 317,
        "startChar": 32,
        "endLine": 318,
        "endChar": 36
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f244cd83_6c379bbc",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 318,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-03-17T11:02:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82d1fa63_be82f0da",
      "range": {
        "startLine": 317,
        "startChar": 32,
        "endLine": 318,
        "endChar": 36
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "383464ba_a5cb4ca3",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 320,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-03-13T14:11:01Z",
      "side": 1,
      "message": "\"table\"",
      "range": {
        "startLine": 320,
        "startChar": 21,
        "endLine": 320,
        "endChar": 25
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9dcb999_b3f213cd",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 320,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-03-15T12:38:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "383464ba_a5cb4ca3",
      "range": {
        "startLine": 320,
        "startChar": 21,
        "endLine": 320,
        "endChar": 25
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a76c5f8_cbe04a50",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 351,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-03-13T14:11:01Z",
      "side": 1,
      "message": "\"Function to unmap a memory page for a given VA. The TTE should have been marked transient for this API to work.\"",
      "range": {
        "startLine": 350,
        "startChar": 3,
        "endLine": 351,
        "endChar": 21
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f6f84ac_2bfc0d33",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 351,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-03-15T12:38:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2a76c5f8_cbe04a50",
      "range": {
        "startLine": 350,
        "startChar": 3,
        "endLine": 351,
        "endChar": 21
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ea1d6fd_8b2895a6",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 416,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-03-13T14:11:01Z",
      "side": 1,
      "message": "/* This function must only be called on invalid transient descriptors */",
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b44ceb50_8ef8ff8f",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 416,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-03-15T12:38:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0ea1d6fd_8b2895a6",
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e84916c_f1a7d40b",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 464,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-03-13T14:11:01Z",
      "side": 1,
      "message": "these can be asserts as this is enforcing sequence and is expected to be a integration issue.",
      "range": {
        "startLine": 457,
        "startChar": 0,
        "endLine": 464,
        "endChar": 2
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "853ee735_08db8957",
        "filename": "lib/xlat/src/xlat_tables_utils.c",
        "patchSetId": 13
      },
      "lineNbr": 464,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-03-15T12:38:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5e84916c_f1a7d40b",
      "range": {
        "startLine": 457,
        "startChar": 0,
        "endLine": 464,
        "endChar": 2
      },
      "revId": "59075adbf843c51ecaac34c8538eaab9d27db528",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}