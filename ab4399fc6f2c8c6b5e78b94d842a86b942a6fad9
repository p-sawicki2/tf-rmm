{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b1a40efc_d1ea145a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T16:39:06Z",
      "side": 1,
      "message": "minor comments",
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "554cacfd_edac8a68",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 9
      },
      "lineNbr": 68,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T16:39:06Z",
      "side": 1,
      "message": "nit: I think it is better to lose the HOST from this define to make this macro shorter.\n\nS2TTE_NS_ATTR_MASK",
      "range": {
        "startLine": 68,
        "startChar": 14,
        "endLine": 68,
        "endChar": 19
      },
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "258cfd79_e756633a",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 9
      },
      "lineNbr": 68,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-10-16T11:03:40Z",
      "side": 1,
      "message": "I rather lose the \"NS\". This mask is for the attributes for unprotected S2TTEs setup by the host",
      "parentUuid": "554cacfd_edac8a68",
      "range": {
        "startLine": 68,
        "startChar": 14,
        "endLine": 68,
        "endChar": 19
      },
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb9f2360_cf5e7f51",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 9
      },
      "lineNbr": 68,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-16T11:19:06Z",
      "side": 1,
      "message": "Hmm, that is not the precedence for other macros defined in this file. We favor NS over HOST.",
      "parentUuid": "258cfd79_e756633a",
      "range": {
        "startLine": 68,
        "startChar": 14,
        "endLine": 68,
        "endChar": 19
      },
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6c3059c_e7c07f96",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 9
      },
      "lineNbr": 1009,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T16:39:06Z",
      "side": 1,
      "message": "unprotected is vague IMO. \n\nprefer the `check_ns_attr` as it is more direct abou the action being performed.",
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "402a577a_7eb6dcef",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 9
      },
      "lineNbr": 1009,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-10-16T11:03:40Z",
      "side": 1,
      "message": "I don\u0027t think check_ns_attr is appropriate either. The meaning of this argument is as a flag indicating whether the table is in the unprotected space or not, which is more generic than check_ns_attr. I don\u0027t want to give the impression that we can check the NS attributes on any table, rather that we can pass protected and unprotected tables here and let the function take care of any checks needed.\n\nMaybe I can rename it to something like table_is_(un)protected or is_(un)protected?",
      "parentUuid": "d6c3059c_e7c07f96",
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b339a205_7d8a2eec",
        "filename": "lib/realm/src/s2tt.c",
        "patchSetId": 9
      },
      "lineNbr": 1009,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-16T11:19:06Z",
      "side": 1,
      "message": "The internal helpers in S2TTE usually are hidden from high level abstractions of IPA space like \"protected\" and \"unprotected\". Introducing the notion of \"unprotected\" IPA into this internal helper is not very scalable in IMO as this notion can change based on the context. At this level, the helpers know only about blocks, Attributes, and RIPAS/HIPAS. Hence it is better to stick to this level of abstraction.\n\nThe argument name is clear that this is checking `ns_attr`, so this should be only issued on entries which is mapping NS memory. Maybe we can add an assert for this check that the TTE is \"s2tte_is_ns()\" but I dont see that is needed as this should be clear from the name.",
      "parentUuid": "402a577a_7eb6dcef",
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "617a10ce_008c8433",
        "filename": "runtime/rmi/rtt.c",
        "patchSetId": 9
      },
      "lineNbr": 363,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T16:39:06Z",
      "side": 1,
      "message": "nit: can be on same line ?",
      "range": {
        "startLine": 363,
        "startChar": 47,
        "endLine": 363,
        "endChar": 48
      },
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e209ef74_acac0c35",
        "filename": "runtime/rmi/rtt.c",
        "patchSetId": 9
      },
      "lineNbr": 363,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-10-16T11:03:40Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "617a10ce_008c8433",
      "range": {
        "startLine": 363,
        "startChar": 47,
        "endLine": 363,
        "endChar": 48
      },
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "180afc58_2804fb4f",
        "filename": "runtime/rmi/rtt.c",
        "patchSetId": 9
      },
      "lineNbr": 368,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T16:39:06Z",
      "side": 1,
      "message": "Suggest: \n\n/* Since table_maps_assigned_ns_block() has succeeded, the pa in first entry of table is aligned to parent level. Use the tte from the first entry directly as it also has the NS Attributes to be sued for the parent block entry */",
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27d1a2cb_a89b1779",
        "filename": "runtime/rmi/rtt.c",
        "patchSetId": 9
      },
      "lineNbr": 368,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2023-10-13T16:40:09Z",
      "side": 1,
      "message": "*used",
      "parentUuid": "180afc58_2804fb4f",
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c1b5f83_39b90ad3",
        "filename": "runtime/rmi/rtt.c",
        "patchSetId": 9
      },
      "lineNbr": 368,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2023-10-16T11:03:40Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "27d1a2cb_a89b1779",
      "revId": "ab4399fc6f2c8c6b5e78b94d842a86b942a6fad9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}